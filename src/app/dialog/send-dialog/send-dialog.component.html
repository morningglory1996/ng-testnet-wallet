<button mat-button (click)="close()" style="float: right;">
  <mat-icon>close</mat-icon>
</button>
<h2 mat-dialog-title>ビットコインを送る</h2>
<div mat-dialog-content style="text-align: center;">
  <form [formGroup]="sendingForm" (ngSubmit)="openConfirm(sendingForm)">
    <mat-form-field appearance="standard">
      <p matPrefix>宛先:</p>
      <input
        matInput
        formControlName="recipient"
        type="text"
        autofocus
        #inputElm
        [(ngModel)]="inputAddress"
      />
      <button
        mat-icon-button
        matSuffix
        type="button"
        (click)="openScanDialog()"
      >
        <mat-icon>qr_code_scanner</mat-icon>
      </button>
      <mat-error *ngIf="recipient.invalid">{{
        recipientErrorMessage()
      }}</mat-error>
    </mat-form-field>

    <mat-form-field appearance="standard">
      <p matPrefix>送金額:</p>
      <input
        matInput
        [(ngModel)]="inputAmount"
        formControlName="amount"
        type="number"
        autofocus
      />
      <span matSuffix>satoshi</span>
      <mat-error *ngIf="amount.invalid">{{ amountErrorMessage() }}</mat-error>
    </mat-form-field>

    <div
      style="text-align: left; color: rgb(176, 176, 176); margin-bottom: 20px;"
    >
      <p>
        <span>
          <mat-icon style="vertical-align: middle;">waves</mat-icon>
        </span>
        ￥{{ (data.btcPrice * 1e-8 * inputAmount).toFixed(2) }}
        <span style="margin-left: 30px;">
          残高: {{ data.balance }} satoshi
        </span>
      </p>
    </div>

    <div style="text-align: left;">
      <mat-label>送金手数料</mat-label>
      <mat-slider
        formControlName="fee"
        class="example-margin"
        [max]="3000"
        [min]="500"
        [step]="100"
        [thumbLabel]="true"
        style="width: 100%;"
        color="primary"
      >
      </mat-slider>
    </div>

    <button
      mat-raised-button
      color="primary"
      [disabled]="sendingForm.invalid"
      type="submit"
    >
      送金
    </button>
  </form>
</div>
